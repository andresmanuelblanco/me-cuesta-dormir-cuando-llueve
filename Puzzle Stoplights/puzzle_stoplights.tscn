[gd_scene load_steps=9 format=3 uid="uid://cgnh462kut45i"]

[ext_resource type="Environment" uid="uid://dww4h8pwyxncl" path="res://Cielo nocturno.tres" id="1_1yqxh"]
[ext_resource type="Script" uid="uid://q2gocj30hpex" path="res://jugador.gd" id="2_l36xa"]
[ext_resource type="PackedScene" uid="uid://dpetky5mhgr7p" path="res://Puzzle Stoplights/CUADRASV2.blend" id="2_ub2a2"]
[ext_resource type="Texture2D" uid="uid://824ctwanp2gd" path="res://Puzzle Stoplights/ARTE 2D/Hombre_Farol_Prendido.PNG" id="3_ub2a2"]
[ext_resource type="Texture2D" uid="uid://drwoex1wf1jwt" path="res://Puzzle Stoplights/ARTE 2D/IMG_5296.PNG" id="4_ltgdn"]

[sub_resource type="BoxShape3D" id="BoxShape3D_1yqxh"]

[sub_resource type="CapsuleMesh" id="CapsuleMesh_ltgdn"]

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_ja5yw"]
points = PackedVector3Array(-0.125207, -0.532801, -0.480507, 0.0227831, 0.47607, 0.498884, 0.169713, 0.559144, 0.464172, 0.231051, -0.803591, 0.320455, 0.40741, 0.651043, -0.243523, -0.482789, 0.594843, 0.0822132, -0.362868, -0.682312, 0.289697, 0.469044, -0.654529, -0.0662713, -0.127444, 0.842701, -0.338103, -0.393435, -0.683942, -0.244717, 0.438255, 0.623309, 0.200849, 0.0841477, 0.977454, 0.114795, -0.0682023, -0.976458, -0.12927, 0.20055, -0.563129, -0.451454, -0.185527, 0.595453, -0.453475, -0.273363, 0.592268, 0.407754, -0.00693649, -0.476823, 0.49966, 0.375821, -0.588614, 0.316955, 0.111579, 0.563059, -0.481177, -0.41725, 0.527866, -0.270497, -0.484546, -0.596972, -0.0665097, -0.279747, 0.908561, 0.0533361, -0.250197, -0.880712, 0.205319, 0.263647, -0.902771, -0.127394, 0.293368, 0.871526, -0.157196, 0.373412, -0.526319, -0.328246, 0.499663, 0.476641, -0.00688856, 0.0531056, 0.875001, 0.324703, -0.154543, -0.590854, 0.465879, -0.0972799, -0.782358, -0.398188, -0.387649, -0.498171, 0.31565, -0.30068, -0.587995, -0.388901)

[node name="PuzzleStoplights" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = ExtResource("1_1yqxh")

[node name="Sun" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.4931813, 0.14700459, 0.8574158, 0.6966486, -0.52356124, 0.49047378, 0.5210116, 0.8392099, 0.15580006, 78.90661, 40.536457, -5.7521152)
light_color = Color(3.657937e-06, 0.30736953, 0.6440998, 1)
light_energy = 0.489
shadow_enabled = true
sky_mode = 1

[node name="CUADRASV2" parent="." instance=ExtResource("2_ub2a2")]

[node name="LuzTunel1" type="SpotLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.0045727943, 0.99998957, 0, -0.99998957, 0.0045727943, 65.05864, 3.8202376, -4.5229926)
light_color = Color(0.92319024, 0.7474034, 0.4015782, 1)
light_energy = 2.83
spot_range = 6.093
spot_attenuation = 1.9
spot_angle = 96.43

[node name="LuzTunel2" type="SpotLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -0.025793057, 0.99966735, 0, -0.99966735, -0.025793057, 72.52147, 3.8202376, -4.5229926)
light_color = Color(0.92319024, 0.7474034, 0.4015782, 1)
light_energy = 2.83
shadow_enabled = true
spot_range = 6.093
spot_attenuation = 1.15
spot_angle = 37.95
spot_angle_attenuation = 0.840897

[node name="LuzTunel3" type="SpotLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -0.022460448, 0.99974775, 0, -0.99974775, -0.022460448, 67.72856, 3.8202376, -4.5229926)
light_color = Color(0.92319024, 0.7474034, 0.4015782, 1)
light_energy = 2.83
shadow_enabled = true
spot_range = 6.093
spot_attenuation = 1.34
spot_angle = 39.68

[node name="LuzTunel4" type="SpotLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.050592992, 0.99871933, 0, -0.99871933, 0.050592992, 70.24348, 3.8202376, -4.5229926)
light_color = Color(0.92319024, 0.7474034, 0.4015782, 1)
light_energy = 2.83
shadow_enabled = true
spot_range = 6.093
spot_attenuation = 1.9
spot_angle = 96.43

[node name="LuzTunel5" type="SpotLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.022844426, 0.99973905, 0, -0.99973905, 0.022844426, 59.767883, 3.8202376, -4.4684763)
light_color = Color(0.92319024, 0.7474034, 0.4015782, 1)
light_energy = 2.83
shadow_enabled = true
spot_range = 6.093
spot_attenuation = 1.9
spot_angle = 96.43

[node name="LuzTunel6" type="SpotLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -0.003804751, 0.9999928, 0, -0.9999928, -0.003804751, 62.31595, 3.8202376, -4.4684763)
light_color = Color(0.92319024, 0.7474034, 0.4015782, 1)
light_energy = 2.83
shadow_enabled = true
spot_range = 6.093
spot_attenuation = 0.85
spot_angle = 46.77

[node name="LuzTunel7" type="SpotLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -0.06508958, 0.99787945, 0, -0.99787945, -0.06508958, 56.896095, 3.8202376, -4.4684763)
light_color = Color(0.92319024, 0.7474034, 0.4015782, 1)
light_energy = 2.83
shadow_enabled = true
spot_range = 6.093
spot_attenuation = 0.99
spot_angle = 43.23

[node name="LuzTunel8" type="SpotLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -0.028200723, 0.99960226, 0, -0.99960226, -0.028200723, 54.545017, 3.8202376, -4.4684763)
light_color = Color(0.92319024, 0.7474034, 0.4015782, 1)
light_energy = 2.83
shadow_enabled = true
spot_range = 6.093
spot_attenuation = 1.9
spot_angle = 96.43

[node name="LuzTunel9" type="SpotLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.0026005956, 0.99999666, 0, -0.99999666, 0.0026005956, 51.891613, 3.8202376, -4.4684763)
light_color = Color(0.92319024, 0.7474034, 0.4015782, 1)
light_energy = 2.83
shadow_enabled = true
spot_range = 6.093
spot_attenuation = 1.9
spot_angle = 65.4

[node name="LuzTunel10" type="SpotLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -0.0048868507, 0.9999881, 0, -0.9999881, -0.0048868507, 49.51839, 3.8202376, -4.4684763)
light_color = Color(0.92319024, 0.7474034, 0.4015782, 1)
light_energy = 2.83
shadow_enabled = true
spot_range = 6.093
spot_attenuation = 1.9
spot_angle = 96.43

[node name="Farol1StaticBody3D" type="StaticBody3D" parent="."]
transform = Transform3D(0.98923665, 0, 0.14632475, 0, 1, 0, -0.14632475, 0, 0.98923665, 83.86234, 3.1834593, 1.3557796)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Farol1StaticBody3D"]
shape = SubResource("BoxShape3D_1yqxh")

[node name="Sprite3D" type="Sprite3D" parent="Farol1StaticBody3D"]
transform = Transform3D(0.25, 0, 0, 0, 0.25, 0, 0, 0, 0.25, -0.007156372, 0.0070135593, -0.011713982)
billboard = 2
texture = ExtResource("3_ub2a2")
metadata/_edit_lock_ = true

[node name="LuzFarol1" type="SpotLight3D" parent="Farol1StaticBody3D"]
transform = Transform3D(0.98923653, 0.14632322, -0.00066911295, 0, 0.0045727943, 0.99998957, 0.14632474, -0.9892262, 0.0045235753, 0.12892914, 1.096127, -0.031002998)
light_color = Color(0.92319024, 0.7474034, 0.4015782, 1)
light_energy = 2.83
spot_range = 4.7
spot_attenuation = 1.25
spot_angle = 87.75

[node name="Farol1StaticBody3D2" type="StaticBody3D" parent="."]
transform = Transform3D(0.98923665, 0, 0.14632475, 0, 1, 0, -0.14632475, 0, 0.98923665, 83.86234, 3.1834593, 13.888705)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Farol1StaticBody3D2"]
shape = SubResource("BoxShape3D_1yqxh")

[node name="Sprite3D" type="Sprite3D" parent="Farol1StaticBody3D2"]
transform = Transform3D(0.25, 0, 0, 0, 0.25, 0, 0, 0, 0.25, -0.007156372, 0.0070135593, -0.011713982)
billboard = 2
texture = ExtResource("3_ub2a2")
metadata/_edit_lock_ = true

[node name="LuzFarol1" type="SpotLight3D" parent="Farol1StaticBody3D2"]
transform = Transform3D(0.98923653, 0.14632322, -0.00066911295, 0, 0.0045727943, 0.99998957, 0.14632474, -0.9892262, 0.0045235753, 0.12892914, 1.096127, -0.031002998)
light_color = Color(0.92319024, 0.7474034, 0.4015782, 1)
light_energy = 2.83
spot_range = 4.7
spot_attenuation = 1.25
spot_angle = 87.75

[node name="Farol2StaticBody3D" type="StaticBody3D" parent="."]
transform = Transform3D(0.98923665, 0, 0.14632475, 0, 1, 0, -0.14632475, 0, 0.98923665, 83.80369, 3.1834593, -10.112344)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Farol2StaticBody3D"]
shape = SubResource("BoxShape3D_1yqxh")

[node name="Sprite3D" type="Sprite3D" parent="Farol2StaticBody3D"]
transform = Transform3D(0.25, 0, 0, 0, 0.25, 0, 0, 0, 0.25, -0.007156372, 0.0070135593, -0.011713982)
billboard = 2
texture = ExtResource("3_ub2a2")
metadata/_edit_lock_ = true

[node name="LuzFarol1" type="SpotLight3D" parent="Farol2StaticBody3D"]
transform = Transform3D(0.98923653, 0.14632322, -0.00066911295, 0, 0.0045727943, 0.99998957, 0.14632474, -0.9892262, 0.0045235753, 0.12892914, 1.096127, -0.031002998)
light_color = Color(0.92319024, 0.7474034, 0.4015782, 1)
light_energy = 2.83
spot_range = 4.7
spot_attenuation = 1.25
spot_angle = 87.75

[node name="Farol3StaticBody3D" type="StaticBody3D" parent="."]
transform = Transform3D(0.98923665, 0, 0.14632475, 0, 1, 0, -0.14632475, 0, 0.98923665, 97.30926, 3.1834593, -10.112344)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Farol3StaticBody3D"]
shape = SubResource("BoxShape3D_1yqxh")

[node name="Sprite3D" type="Sprite3D" parent="Farol3StaticBody3D"]
transform = Transform3D(0.25, 0, 0, 0, 0.25, 0, 0, 0, 0.25, -0.007156372, 0.0070135593, -0.011713982)
billboard = 2
texture = ExtResource("3_ub2a2")
metadata/_edit_lock_ = true

[node name="LuzFarol1" type="SpotLight3D" parent="Farol3StaticBody3D"]
transform = Transform3D(0.98923653, 0.14632322, -0.00066911295, 0, 0.0045727943, 0.99998957, 0.14632474, -0.9892262, 0.0045235753, 0.12892914, 1.096127, -0.031002998)
light_color = Color(0.92319024, 0.7474034, 0.4015782, 1)
light_energy = 2.83
spot_range = 4.7
spot_attenuation = 1.25
spot_angle = 87.75

[node name="Farol4StaticBody3D" type="StaticBody3D" parent="."]
transform = Transform3D(0.98923665, 0, 0.14632475, 0, 1, 0, -0.14632475, 0, 0.98923665, 97.30926, 3.1834593, 1.0505438)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Farol4StaticBody3D"]
shape = SubResource("BoxShape3D_1yqxh")

[node name="Sprite3D" type="Sprite3D" parent="Farol4StaticBody3D"]
transform = Transform3D(0.25, 0, 0, 0, 0.25, 0, 0, 0, 0.25, -0.007156372, 0.0070135593, -0.011713982)
billboard = 2
texture = ExtResource("3_ub2a2")
metadata/_edit_lock_ = true

[node name="LuzFarol1" type="SpotLight3D" parent="Farol4StaticBody3D"]
transform = Transform3D(0.98923653, 0.14632322, -0.00066911295, 0, 0.0045727943, 0.99998957, 0.14632474, -0.9892262, 0.0045235753, 0.12892914, 1.096127, -0.031002998)
light_color = Color(0.92319024, 0.7474034, 0.4015782, 1)
light_energy = 2.83
spot_range = 4.7
spot_attenuation = 1.25
spot_angle = 87.75

[node name="Farol5StaticBody3D" type="StaticBody3D" parent="."]
transform = Transform3D(0.98923665, 0, 0.14632475, 0, 1, 0, -0.14632475, 0, 0.98923665, 110.26044, 3.1834593, 1.0505438)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Farol5StaticBody3D"]
shape = SubResource("BoxShape3D_1yqxh")

[node name="Sprite3D" type="Sprite3D" parent="Farol5StaticBody3D"]
transform = Transform3D(0.25, 0, 0, 0, 0.25, 0, 0, 0, 0.25, -0.007156372, 0.0070135593, -0.011713982)
billboard = 2
texture = ExtResource("3_ub2a2")
metadata/_edit_lock_ = true

[node name="LuzFarol1" type="SpotLight3D" parent="Farol5StaticBody3D"]
transform = Transform3D(0.98923653, 0.14632322, -0.00066911295, 0, 0.0045727943, 0.99998957, 0.14632474, -0.9892262, 0.0045235753, 0.12892914, 1.096127, -0.031002998)
light_color = Color(0.92319024, 0.7474034, 0.4015782, 1)
light_energy = 2.83
spot_range = 4.7
spot_attenuation = 1.25
spot_angle = 87.75

[node name="Farol5StaticBody3D2" type="StaticBody3D" parent="."]
transform = Transform3D(0.98923665, 0, 0.14632475, 0, 1, 0, -0.14632475, 0, 0.98923665, 110.26044, 3.1834593, -10.152905)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Farol5StaticBody3D2"]
shape = SubResource("BoxShape3D_1yqxh")

[node name="Sprite3D" type="Sprite3D" parent="Farol5StaticBody3D2"]
transform = Transform3D(0.25, 0, 0, 0, 0.25, 0, 0, 0, 0.25, -0.007156372, 0.0070135593, -0.011713982)
billboard = 2
texture = ExtResource("3_ub2a2")
metadata/_edit_lock_ = true

[node name="LuzFarol1" type="SpotLight3D" parent="Farol5StaticBody3D2"]
transform = Transform3D(0.98923653, 0.14632322, -0.00066911295, 0, 0.0045727943, 0.99998957, 0.14632474, -0.9892262, 0.0045235753, 0.12892914, 1.096127, -0.031002998)
light_color = Color(0.92319024, 0.7474034, 0.4015782, 1)
light_energy = 2.83
spot_range = 4.506
spot_attenuation = 1.25
spot_angle = 87.75

[node name="Farol5StaticBody3D4" type="StaticBody3D" parent="."]
transform = Transform3D(0.98923665, 0, 0.14632475, 0, 1, 0, -0.14632475, 0, 0.98923665, 116.39766, 3.1834593, -8.530621)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Farol5StaticBody3D4"]
shape = SubResource("BoxShape3D_1yqxh")

[node name="Sprite3D" type="Sprite3D" parent="Farol5StaticBody3D4"]
transform = Transform3D(0.25, 0, 0, 0, 0.25, 0, 0, 0, 0.25, -0.007156372, 0.0070135593, -0.011713982)
billboard = 2
texture = ExtResource("3_ub2a2")
metadata/_edit_lock_ = true

[node name="LuzFarol1" type="SpotLight3D" parent="Farol5StaticBody3D4"]
transform = Transform3D(0.98923653, 0.14632322, -0.00066911295, 0, 0.0045727943, 0.99998957, 0.14632474, -0.9892262, 0.0045235753, 0.12892914, 1.096127, -0.031002998)
light_color = Color(0.92319024, 0.7474034, 0.4015782, 1)
light_energy = 2.83
spot_range = 4.506
spot_attenuation = 1.25
spot_angle = 87.75

[node name="Farol5StaticBody3D5" type="StaticBody3D" parent="."]
transform = Transform3D(0.98923665, 0, 0.14632475, 0, 1, 0, -0.14632475, 0, 0.98923665, 116.39766, 3.1834593, -0.35705376)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Farol5StaticBody3D5"]
shape = SubResource("BoxShape3D_1yqxh")

[node name="Sprite3D" type="Sprite3D" parent="Farol5StaticBody3D5"]
transform = Transform3D(0.25, 0, 0, 0, 0.25, 0, 0, 0, 0.25, -0.007156372, 0.0070135593, -0.011713982)
billboard = 2
texture = ExtResource("3_ub2a2")
metadata/_edit_lock_ = true

[node name="LuzFarol1" type="SpotLight3D" parent="Farol5StaticBody3D5"]
transform = Transform3D(0.98923653, 0.14632322, -0.00066911295, 0, 0.0045727943, 0.99998957, 0.14632474, -0.9892262, 0.0045235753, 0.12892914, 1.096127, -0.031002998)
light_color = Color(0.92319024, 0.7474034, 0.4015782, 1)
light_energy = 2.83
spot_range = 4.506
spot_attenuation = 1.25
spot_angle = 87.75

[node name="Farol5StaticBody3D3" type="StaticBody3D" parent="."]
transform = Transform3D(0.98923665, 0, 0.14632475, 0, 1, 0, -0.14632475, 0, 0.98923665, 83.79243, 3.1834593, -23.327202)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Farol5StaticBody3D3"]
shape = SubResource("BoxShape3D_1yqxh")

[node name="Sprite3D" type="Sprite3D" parent="Farol5StaticBody3D3"]
transform = Transform3D(0.25, 0, 0, 0, 0.25, 0, 0, 0, 0.25, -0.007156372, 0.0070135593, -0.011713982)
billboard = 2
texture = ExtResource("3_ub2a2")
metadata/_edit_lock_ = true

[node name="LuzFarol1" type="SpotLight3D" parent="Farol5StaticBody3D3"]
transform = Transform3D(0.98923653, 0.14632322, -0.00066911295, 0, 0.0045727943, 0.99998957, 0.14632474, -0.9892262, 0.0045235753, 0.12892914, 1.096127, -0.031002998)
light_color = Color(0.92319024, 0.7474034, 0.4015782, 1)
light_energy = 2.83
spot_range = 4.506
spot_attenuation = 1.25
spot_angle = 87.75

[node name="Spotlight" type="StaticBody3D" parent="."]
transform = Transform3D(0.98923665, 0, 0.14632475, 0, 1, 0, -0.14632475, 0, 0.98923665, 78.30832, 2.7867055, -1.9589841)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Spotlight"]
shape = SubResource("BoxShape3D_1yqxh")

[node name="Sprite3D" type="Sprite3D" parent="Spotlight"]
transform = Transform3D(0.25, 0, 0, 0, 0.25, 0, 0, 0, 0.25, -0.007156372, 0.0070135593, -0.011713982)
billboard = 2
texture = ExtResource("4_ltgdn")

[node name="LuzFarol1" type="SpotLight3D" parent="Spotlight"]
transform = Transform3D(0.10199528, 0.14182374, -0.98462325, 0.99467045, 0.00047146314, 0.10310398, 0.0150868045, -0.98989177, -0.1410198, 0.12892914, 1.2836118, -0.031004906)
light_color = Color(0.10980392, 0.7490196, 0.4, 1)
light_energy = 13.713
spot_range = 4.506
spot_attenuation = 1.25
spot_angle = 87.75

[node name="Spotlight2" type="StaticBody3D" parent="."]
transform = Transform3D(-0.12018883, 0, 0.99275106, 0, 1, 0, -0.99275106, 0, -0.12018883, 99.940414, 2.7867055, 2.7702181)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Spotlight2"]
shape = SubResource("BoxShape3D_1yqxh")

[node name="Sprite3D" type="Sprite3D" parent="Spotlight2"]
transform = Transform3D(0.25, 0, 0, 0, 0.25, 0, 0, 0, 0.25, -0.007156372, 0.0070135593, -0.011713982)
billboard = 2
texture = ExtResource("4_ltgdn")

[node name="LuzFarol1" type="SpotLight3D" parent="Spotlight2"]
transform = Transform3D(0.10199528, 0.14182374, -0.98462325, 0.99467045, 0.00047146314, 0.10310398, 0.0150868045, -0.98989177, -0.1410198, 0.12892914, 1.2836118, -0.031004906)
light_color = Color(0.10980392, 0.7490196, 0.4, 1)
light_energy = 13.713
spot_range = 4.506
spot_attenuation = 1.25
spot_angle = 87.75

[node name="Player" type="CharacterBody3D" parent="." groups=["Player"]]
transform = Transform3D(1, 0, 0, 0, 0.99999994, 0, 0, 0, 1.0000001, 77.695854, 1.0000002, -4.5709476)
script = ExtResource("2_l36xa")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Player"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
mesh = SubResource("CapsuleMesh_ltgdn")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Player"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
shape = SubResource("ConvexPolygonShape3D_ja5yw")

[node name="PlayerHead" type="Node3D" parent="Player"]
transform = Transform3D(0.5195979, 0.0790523, 0.85074586, -0.061557755, 0.99658674, -0.055007227, -0.85219055, -0.02378837, 0.5226906, 0, 0, 0)

[node name="Camera3D" type="Camera3D" parent="Player/PlayerHead"]
transform = Transform3D(1, 0, 0, 0, 0.997457, 0.0712712, 0, -0.0712712, 0.997457, 0, 1.736, 0)

[node name="RayCast3D" type="RayCast3D" parent="Player/PlayerHead/Camera3D"]
transform = Transform3D(1, 0, 0, 0, 0.99999994, 0, 0, 0, 0.99999994, 0, 0, 0)
target_position = Vector3(0, 0, -10)

[node name="CanvasLayer" type="CanvasLayer" parent="Player"]

[node name="InteractionPrompt" type="Control" parent="Player/CanvasLayer"]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="TextureRect" type="TextureRect" parent="Player/CanvasLayer/InteractionPrompt"]
layout_mode = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="Label" type="Label" parent="Player/CanvasLayer/InteractionPrompt"]
layout_mode = 0
offset_right = 40.0
offset_bottom = 23.0
